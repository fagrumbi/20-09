(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{388:function(t,e,n){t.exports=n.p+"img/forgot.be35a9a.jpg"},399:function(t,e,n){t.exports=n.p+"img/joy.a300240.jpg"},681:function(t,e,n){"use strict";n.r(e);var o=[function(){var t=this,e=t._self._c;return e("div",[e("img",{staticClass:"h-32 w-auto",attrs:{src:n(47),alt:"Your Company"}}),t._v(" "),e("h2",{staticClass:"mt-8 text-2xl font-bold leading-9 tracking-tight text-gray-900"},[t._v("Forgot Your Password?")]),t._v(" "),e("p",{staticClass:"mt-2 text-sm leading-6 text-gray-500"},[t._v("\n          We get it, stuff happens. Just enter your email address below and we'll send you a link to reset your\n          password!\n        ")])])},function(){var t=this._self._c;return t("div",{staticClass:"relative hidden w-0 flex-1 lg:block"},[t("img",{staticClass:"absolute inset-0 h-full w-full object-cover",attrs:{src:n(388),alt:""}})])}],r=n(6),l=(n(55),n(21),n(10),{layout:"admin-auth",head:function(){return{title:"Bastons Banks | User Forgot Password",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{hid:"description",name:"description",content:"Mobile Banking, Credit Cards, Mortgages, Auto Loan"},{hid:"keywords",name:"keywords",content:"Mobile Banking, Credit Cards, Mortgages, Auto Loan"},{hid:"og:title",property:"og:title",content:"Bastons Banks | User Forgot Password"},{hid:"og:description",property:"og:description",content:"Mobile Banking, Credit Cards, Mortgages, Auto Loan"},{hid:"og:type",property:"og:type",content:"website"},{hid:"og:url",property:"og:url",content:"https://www.bastonsbanks.com/user/forgot"},{hid:"og:image",property:"og:image",content:"@/assets/img/preview.png"},{hid:"twitter:card",name:"twitter:card",content:""},{hid:"twitter:title",name:"twitter:title",content:"Bastons Banks | User Forgot Password"},{hid:"twitter:description",name:"twitter:description",content:"Mobile Banking, Credit Cards, Mortgages, Auto Loan"},{hid:"twitter:image",name:"twitter:image",content:"@/assets/img/preview.png"}],link:[{rel:"icon",type:"image/x-icon",href:"/favicon.ico"}]}},data:function(){return{processing:!1,token_sent:!1,form:{email:""}}},computed:{isFormEmpty:function(){return!!this.form.email}},mounted:function(){if(window.process){var t,e=sessionStorage.getItem("user"),n=JSON.parse(e);null!==(t=Object.keys(n))&&void 0!==t&&t.length&&this.$router.push("/user/login")}},methods:{handleForgetPassword:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.processing=!0,e.prev=2,e.next=5,fetch("https://fidelityvalues.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({query:"\n          mutation SendResetPasswordCode($email: String!) {\n            sendResetPasswordCode(email: $email)\n          }\n        ",variables:{email:t.form.email}})});case 5:return n=e.sent,e.next=8,n.json();case 8:null!=(data=e.sent)&&data.errors?t.$toastr.e(data.errors[0].message):(t.token_sent=!0,sessionStorage.setItem("user-email",JSON.stringify(t.form.email)));case 10:return e.prev=10,t.processing=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,,10,13]])})))()}}}),c=n(16),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex min-h-full lg:h-screen"},[e("div",{staticClass:"flex flex-1 flex-col justify-center px-4 py-12 sm:px-6 lg:flex-none lg:px-20 xl:px-24"},[t.token_sent?e("section",{staticClass:"grid place-content-center h-screen"},[e("div",{staticClass:"flex justify-center items-center flex-col gap-y-3"},[e("img",{staticClass:"h-60 w-60",attrs:{src:n(399),alt:""}}),t._v(" "),e("p",{staticClass:"text-gray-600 font-medium"},[t._v("\n          Reset password token has been sent to your email.\n        ")]),t._v(" "),e("div",{staticClass:"w-full flex justify-center items-center pt-6"},[e("nuxt-link",{staticClass:"bg-green-600 flex justify-center items-center text-white px-6 py-3 w-full rounded-md text-sm",attrs:{to:"/user/reset"}},[t._v("Proceed\n            to\n            reset")])],1)])]):e("div",{staticClass:"mx-auto w-full max-w-sm lg:w-96"},[t._m(0),t._v(" "),e("div",{staticClass:"mt-10"},[e("div",[e("form",{staticClass:"space-y-6",on:{submit:function(e){return e.preventDefault(),t.handleForgetPassword.apply(null,arguments)}}},[e("div",[e("label",{staticClass:"block text-sm font-medium leading-6 text-gray-900",attrs:{for:"email"}},[t._v("Email address")]),t._v(" "),e("div",{staticClass:"mt-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"block w-full rounded-md border-[0.6px] bg-gray-100 border-gray-500 py-3 px-4 shadow-sm placeholder:text-gray-400 sm:text-sm sm:leading-6",attrs:{id:"email",name:"email",type:"email",autocomplete:"email",required:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})])]),t._v(" "),e("div",[e("button",{staticClass:"flex w-full disabled:opacity-25 disabled:cursor-not-allowed justify-center rounded-md bg-indigo-600 px-3 py-3 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",attrs:{disabled:!t.isFormEmpty,type:"submit"}},[t._v(t._s(t.processing?"processing...":"Submit"))])]),t._v(" "),e("p",{staticClass:"mt-10 text-center text-sm text-gray-500"},[t._v("\n              Not a member?\n              "),e("nuxt-link",{staticClass:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500",attrs:{to:"/user/signup"}},[t._v("Create an account")])],1)])])])])]),t._v(" "),t._m(1)])}),o,!1,null,null,null);e.default=component.exports}}]);