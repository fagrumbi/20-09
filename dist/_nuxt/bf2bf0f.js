(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{498:function(e,t,n){e.exports=n.p+"img/joy.a300240.jpg"},499:function(e,t,n){e.exports=n.p+"img/forgot.be35a9a.jpg"},581:function(e,t,n){"use strict";n.r(t);var r=[function(){var e=this,t=e._self._c;return t("div",[t("img",{staticClass:"h-10 w-auto",attrs:{src:"https://bastionbanks.com/uploads/1682584899_6502d067c95383061f4a.png",alt:"Your Company"}}),e._v(" "),t("h2",{staticClass:"mt-8 text-2xl font-bold leading-9 tracking-tight text-gray-900"},[e._v("Forgot Your Password?")]),e._v(" "),t("p",{staticClass:"mt-2 text-sm leading-6 text-gray-500"},[e._v("\n          We get it, stuff happens. Just enter your email address below and we'll send you a link to reset your\n          password!\n        ")])])},function(){var e=this._self._c;return e("div",{staticClass:"relative hidden w-0 flex-1 lg:block"},[e("img",{staticClass:"absolute inset-0 h-full w-full object-cover",attrs:{src:n(499),alt:""}})])}],o=n(10),l=(n(69),n(28),n(15),{layout:"admin-auth",data:function(){return{processing:!1,token_sent:!1,form:{email:""}}},computed:{isFormEmpty:function(){return!!this.form.email}},mounted:function(){if(window.process){var e,t=window.localStorage.getItem("user"),n=JSON.parse(t);null!==(e=Object.keys(n))&&void 0!==e&&e.length&&this.$router.push("/user/login")}},methods:{handleForgetPassword:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.processing=!0,"\n          mutation SendResetPasswordCode($email: String!) {\n            sendResetPasswordCode(email: $email)\n          }\n        ",t.prev=2,t.next=5,fetch("https://fidelityvalues.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({query:"\n          mutation SendResetPasswordCode($email: String!) {\n            sendResetPasswordCode(email: $email)\n          }\n        ",variables:{email:e.form.email}})});case 5:return n=t.sent,t.next=8,n.json();case 8:null!=(data=t.sent)&&data.errors?e.$toastr.e(data.errors[0].message):(e.token_sent=!0,window.localStorage.setItem("user-email",JSON.stringify(e.form.email)));case 10:return t.prev=10,e.processing=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[2,,10,13]])})))()}}}),c=n(11),component=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex min-h-full lg:h-screen"},[t("div",{staticClass:"flex flex-1 flex-col justify-center px-4 py-12 sm:px-6 lg:flex-none lg:px-20 xl:px-24"},[e.token_sent?t("section",{staticClass:"grid place-content-center h-screen"},[t("div",{staticClass:"flex justify-center items-center flex-col gap-y-3"},[t("img",{staticClass:"h-60 w-60",attrs:{src:n(498),alt:""}}),e._v(" "),t("p",{staticClass:"text-gray-600 font-medium"},[e._v("\n          Reset password token has been sent to your email.\n        ")]),e._v(" "),t("div",{staticClass:"w-full flex justify-center items-center pt-6"},[t("nuxt-link",{staticClass:"bg-green-600 flex justify-center items-center text-white px-6 py-3 w-full rounded-md text-sm",attrs:{to:"/reset"}},[e._v("Proceed\n            to\n            reset")])],1)])]):t("div",{staticClass:"mx-auto w-full max-w-sm lg:w-96"},[e._m(0),e._v(" "),t("div",{staticClass:"mt-10"},[t("div",[t("form",{staticClass:"space-y-6",on:{submit:function(t){return t.preventDefault(),e.handleForgetPassword.apply(null,arguments)}}},[t("div",[t("label",{staticClass:"block text-sm font-medium leading-6 text-gray-900",attrs:{for:"email"}},[e._v("Email address")]),e._v(" "),t("div",{staticClass:"mt-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"block w-full rounded-md border-0 py-3 px-4 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",attrs:{id:"email",name:"email",type:"email",autocomplete:"email",required:""},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})])]),e._v(" "),t("div",[t("button",{staticClass:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-3 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",attrs:{disabled:!e.isFormEmpty,type:"submit"}},[e._v(e._s(e.processing?"processing...":"Submit"))])]),e._v(" "),t("p",{staticClass:"mt-10 text-center text-sm text-gray-500"},[e._v("\n              Not a member?\n              "),t("nuxt-link",{staticClass:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500",attrs:{to:"/user/signup"}},[e._v("Create an account")])],1)])])])])]),e._v(" "),e._m(1)])}),r,!1,null,null,null);t.default=component.exports}}]);