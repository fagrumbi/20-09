(window.webpackJsonp=window.webpackJsonp||[]).push([[65,10],{375:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MSIgaGVpZ2h0PSI0MSIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMi41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjEiPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjEyIiBjeT0iNSIgcj0iMSI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMTIiIGN5PSIxOSIgcj0iMSI+PC9jaXJjbGU+PC9zdmc+Cg=="},378:function(t,e,n){"use strict";n.r(e);var r={props:{title:{type:String},desc:{type:String}}},o=n(13),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center border rounded-br-md rounded-bl-md py-10"},[e("svg",{staticClass:"mx-auto h-12 w-12 text-gray-400",attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"}},[e("path",{attrs:{"vector-effect":"non-scaling-stroke","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"}})]),t._v(" "),e("h3",{staticClass:"mt-2 text-sm font-semibold text-gray-900"},[t._v(t._s(t.title))]),t._v(" "),e("p",{staticClass:"mt-1 text-sm text-gray-500"},[t._v(t._s(t.desc)+".")])])}),[],!1,null,null,null);e.default=component.exports},648:function(t,e,n){"use strict";n.r(e);n(21);var r=n(5),o=(n(52),n(39),n(35),n(38),n(10),n(36),n(378)),l={layout:"user-dashboard",head:function(){return{title:"Bastons Banks | User Dashboard",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{hid:"description",name:"description",content:"Mobile Banking, Credit Cards, Mortgages, Auto Loan"},{hid:"keywords",name:"keywords",content:"Mobile Banking, Credit Cards, Mortgages, Auto Loan"},{hid:"og:title",property:"og:title",content:"Bastons Banks | User Dashboard"},{hid:"og:description",property:"og:description",content:"Mobile Banking, Credit Cards, Mortgages, Auto Loan"},{hid:"og:type",property:"og:type",content:"website"},{hid:"og:url",property:"og:url",content:"https://www.bastonsbanks.com/user/withdrawals"},{hid:"og:image",property:"og:image",content:"https://bastionbanks.com/uploads/1682584899_6502d067c95383061f4a.png"},{hid:"twitter:card",name:"twitter:card",content:""},{hid:"twitter:title",name:"twitter:title",content:"Bastons Banks | User Dashboard"},{hid:"twitter:description",name:"twitter:description",content:"Mobile Banking, Credit Cards, Mortgages, Auto Loan"},{hid:"twitter:image",name:"twitter:image",content:"https://bastionbanks.com/uploads/1682584899_6502d067c95383061f4a.png"}],link:[{rel:"icon",type:"image/x-icon",href:"/favicon.ico"}]}},components:{Modal:n(169).default,EmptyState:o.default},data:function(){return{user:{},transactionsList:[],isModalVisible:!1,selectedTransaction:{},loading:!1,withdrawalsDateRange:""}},created:function(){this.fetchTransactions()},mounted:function(){this.getUser()},methods:{downloadWithdrawals:function(){this.$downloadCSV(this.transactionsList,"withdrawals-data.csv")},fetchTransactions:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,data,o,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,n=JSON.parse(sessionStorage.getItem("auth")),t.loading=!0,"\n        query {\n          getUsersTransactions {\n            id\n            amount\n            beneficiaryName\n            beneficiaryAccountNumber\n            receivingBankName\n            routingNumber\n            wallet\n            transactionType\n            transactionStatus\n            user {\n              id\n              name\n              email\n              role\n              phoneNumber\n              dob\n              gender\n              ssn\n              occupation\n              country\n              city\n              zip\n              address\n              accountCurrency\n              pin\n              passport\n              identification\n              Status\n              PlanType\n              accountBalance\n              cardBalance\n              cardNumber\n              expiry\n              cvv\n              eth\n              btc\n              timeAdded\n            }\n            proof\n            timeAdded\n          }\n        }\n      ",e.prev=5,e.next=8,fetch("https://fidelityvalues.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer "+n},body:JSON.stringify({query:"\n        query {\n          getUsersTransactions {\n            id\n            amount\n            beneficiaryName\n            beneficiaryAccountNumber\n            receivingBankName\n            routingNumber\n            wallet\n            transactionType\n            transactionStatus\n            user {\n              id\n              name\n              email\n              role\n              phoneNumber\n              dob\n              gender\n              ssn\n              occupation\n              country\n              city\n              zip\n              address\n              accountCurrency\n              pin\n              passport\n              identification\n              Status\n              PlanType\n              accountBalance\n              cardBalance\n              cardNumber\n              expiry\n              cvv\n              eth\n              btc\n              timeAdded\n            }\n            proof\n            timeAdded\n          }\n        }\n      "})});case 8:return r=e.sent,e.next=11,r.json();case 11:null!=(data=e.sent)&&data.errors?t.$toastr.e(data.errors[0].message):(o=data.data.getUsersTransactions,t.transactionsList=o.filter((function(t){return"withdrawal"===t.transactionType})),l=t.transactionsList.map((function(t){return new Date(t.timeAdded)})),c=new Date(Math.min.apply(null,l)),d=new Date(Math.max.apply(null,l)),t.withdrawalsDateRange="Withdrawals from ".concat(c.toISOString().split("T")[0]," to ").concat(d.toISOString().split("T")[0]));case 13:return e.prev=13,t.loading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[5,,13,16]])})))()},formatDateTime:function(t){if("string"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))return"Invalid Date";return t.toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"})},formatNumberAsDollar:function(t){return null==t?void 0:t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},previewTransaction:function(data){this.isModalVisible=!0,this.selectedTransaction=data},getUser:function(){var t=JSON.parse(sessionStorage.getItem("user"));this.user=t}}},c=n(13),component=Object(c.a)(l,(function(){var t,e,r,o,l,c,d,m,v,x,y=this,f=y._self._c;return f("main",[f("div",{staticClass:"px-4 sm:px-6 lg:px-8"},[f("div",{staticClass:"sm:flex sm:items-center"},[f("div",{staticClass:"sm:flex-auto"},[f("h1",{staticClass:"text-base font-semibold leading-6 text-gray-900"},[y._v("Withdrawals")]),y._v(" "),f("p",{staticClass:"mt-2 text-sm text-gray-700"},[y._v("For withdrawals completed from "+y._s(y.withdrawalsDateRange))])]),y._v(" "),f("div",{staticClass:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none"},[f("button",{staticClass:"block rounded-md bg-indigo-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",attrs:{type:"button"},on:{click:y.downloadWithdrawals}},[y._v("Print")])])]),y._v(" "),null!==(t=y.transactionsList)&&void 0!==t&&t.length&&!y.loading?f("div",{staticClass:"-mx-4 mt-8 flow-root sm:mx-0"},[f("table",{staticClass:"min-w-full"},[y._m(0),y._v(" "),y._m(1),y._v(" "),f("tbody",y._l(y.transactionsList,(function(t){var e,r,o,l,c,d;return f("tr",{key:t,staticClass:"border-b border-gray-200"},[f("td",{staticClass:"max-w-0 py-5 pl-4 pr-3 text-sm sm:pl-0"},[f("div",{staticClass:"font-medium text-gray-900"},[y._v(y._s(null!==(e=t.beneficiaryAccountNumber)&&void 0!==e&&e.length?t.beneficiaryAccountNumber:"Nil"))]),y._v(" "),f("div",{staticClass:"mt-1 truncate text-gray-500"},[y._v(y._s(null!==(r=t.beneficiaryName)&&void 0!==r&&r.length?t.beneficiaryName:"Nil"))])]),y._v(" "),f("td",{staticClass:"hidden px-3 py-5 text-right text-sm text-gray-500 sm:table-cell"},[y._v("\n              "+y._s(null!==(o=y.formatDateTime(t.timeAdded))&&void 0!==o?o:"Nil")+"\n            ")]),y._v(" "),f("td",{staticClass:"hidden px-3 py-5 text-right text-sm text-gray-500 sm:table-cell"},[f("span",{class:["Pending"===t.transactionStatus?"bg-yellow-500 py-2.5 text-xs text-white px-3 rounded-full":"Approved"===t.transactionStatus?"bg-green-500 py-2.5 text-xs text-white px-3 rounded-full":"Declined"===t.transactionStatus?"bg-red-500 py-2.5 text-xs text-white px-3 rounded-full":""]},[y._v(y._s(null!==(l=t.transactionStatus)&&void 0!==l?l:"Nil"))])]),y._v(" "),f("td",{staticClass:"py-5 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0"},[y._v("\n              "+y._s(null!==(c=y.user.accountCurrency)&&void 0!==c?c:"Nil")+y._s(null!==(d=y.formatNumberAsDollar(t.amount))&&void 0!==d?d:"Nil"))]),y._v(" "),f("td",{staticClass:"hidden px-3 py-5 text-right text-sm text-gray-500 sm:table-cell"},[f("button",{attrs:{type:"button"},on:{click:function(e){return y.previewTransaction(t)}}},[f("img",{attrs:{src:n(375),alt:"more"}})])])])})),0)])]):!y.loading||null!==(e=y.transactionsList)&&void 0!==e&&e.length?f("EmptyState",{attrs:{title:"No Withdrawals available",desc:"Please perform a withdrawal transaction"}}):f("div",{staticClass:"bg-white rounded-lg shadow-md p-4 animate-pulse"},[f("div",{staticClass:"w-full h-32 bg-gray-300 rounded mb-2"})])],1),y._v(" "),f("Modal",{attrs:{isVisible:y.isModalVisible},on:{"update:isVisible":function(t){y.isModalVisible=t},"update:is-visible":function(t){y.isModalVisible=t}}},[f("div",{staticClass:"overflow-hidden"},[f("div",{staticClass:"px-4 py-6 sm:px-6"},[f("h3",{staticClass:"text-base font-semibold leading-7 text-gray-900"},[y._v("Withdrawal Information")])]),y._v(" "),f("div",{staticClass:"border-t border-gray-100"},[f("dl",{staticClass:"divide-y divide-gray-100"},[f("div",{staticClass:"px-4 py-6 flex justify-between items-center sm:gap-4 sm:px-6"},[f("dt",{staticClass:"text-sm font-medium text-gray-900"},[y._v("Amount")]),y._v(" "),f("dd",{staticClass:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},[f("div",[Object.keys(y.user).length?f("span",[y._v("\n                  "+y._s(null!==(r=y.user.accountCurrency)&&void 0!==r?r:"Nil")+y._s(null!==(o=y.formatNumberAsDollar(y.selectedTransaction.amount))&&void 0!==o?o:"Nil")+"\n                ")]):f("span",[y._v("Nil")])])])]),y._v(" "),f("div",{staticClass:"px-4 py-6 flex justify-between items-center sm:gap-4 sm:px-6"},[f("dt",{staticClass:"text-sm font-medium text-gray-900"},[y._v("Beneficiary Account Number")]),y._v(" "),f("dd",{staticClass:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},[y._v("\n              "+y._s(null!==(l=y.selectedTransaction.beneficiaryAccountNumber)&&void 0!==l&&l.length?y.selectedTransaction.beneficiaryAccountNumber:"Nil"))])]),y._v(" "),f("div",{staticClass:"px-4 py-6 flex justify-between items-center sm:gap-4 sm:px-6"},[f("dt",{staticClass:"text-sm font-medium text-gray-900"},[y._v("Beneficiary Name")]),y._v(" "),f("dd",{staticClass:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},[y._v("\n              "+y._s(null!==(c=y.selectedTransaction.beneficiaryName)&&void 0!==c&&c.length?y.selectedTransaction.beneficiaryName:"Nil"))])]),y._v(" "),f("div",{staticClass:"px-4 py-6 flex justify-between items-center sm:gap-4 sm:px-6"},[f("dt",{staticClass:"text-sm font-medium text-gray-900"},[y._v("Receiving Bank Name")]),y._v(" "),f("dd",{staticClass:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},[y._v("\n              "+y._s(null!==(d=y.selectedTransaction.receivingBankName)&&void 0!==d&&d.length?y.selectedTransaction.receivingBankName:"Nil"))])]),y._v(" "),f("div",{staticClass:"px-4 py-6 flex justify-between items-center sm:gap-4 sm:px-6"},[f("dt",{staticClass:"text-sm font-medium text-gray-900"},[y._v("Routing Number")]),y._v(" "),f("dd",{staticClass:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},[y._v(y._s(null!==(m=y.selectedTransaction.routingNumber)&&void 0!==m&&m.length?y.selectedTransaction.routingNumber:"Nil"))])]),y._v(" "),f("div",{staticClass:"px-4 py-6 flex justify-between items-center sm:gap-4 sm:px-6"},[f("dt",{staticClass:"text-sm font-medium text-gray-900"},[y._v("Wallet")]),y._v(" "),f("dd",{staticClass:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},[y._v(y._s(null!==(v=y.selectedTransaction.wallet)&&void 0!==v&&v.length?y.selectedTransaction.wallet:"Nil"))])]),y._v(" "),f("div",{staticClass:"px-4 py-6 flex justify-between items-center sm:gap-4 sm:px-6"},[f("dt",{staticClass:"text-sm font-medium text-gray-900"},[y._v("Transaction Status")]),y._v(" "),f("dd",{staticClass:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},[y._v("\n              "+y._s(null!==(x=y.selectedTransaction.transactionStatus)&&void 0!==x&&x.length?y.selectedTransaction.transactionStatus:"Nil"))])])])])]),y._v(" "),f("div",{staticClass:"w-full pt-10"},[f("button",{staticClass:"bg-green-500 text-white w-full py-2.5 rounded-md",on:{click:function(t){y.isModalVisible=!1}}},[y._v("Close")])])])],1)}),[function(){var t=this,e=t._self._c;return e("colgroup",[e("col",{staticClass:"w-full sm:w-1/2"}),t._v(" "),e("col",{staticClass:"sm:w-1/6"}),t._v(" "),e("col",{staticClass:"sm:w-1/6"}),t._v(" "),e("col",{staticClass:"sm:w-1/6"})])},function(){var t=this,e=t._self._c;return e("thead",{staticClass:"border-b border-gray-300 text-gray-900"},[e("tr",[e("th",{staticClass:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",attrs:{scope:"col"}},[t._v("Account\n              Number")]),t._v(" "),e("th",{staticClass:"hidden px-3 py-3.5 text-right text-sm font-semibold text-gray-900 sm:table-cell",attrs:{scope:"col"}},[t._v("\n              Transaction Date")]),t._v(" "),e("th",{staticClass:"hidden px-3 py-3.5 text-right text-sm font-semibold text-gray-900 sm:table-cell",attrs:{scope:"col"}},[t._v("\n              Transaction Status\n            ")]),t._v(" "),e("th",{staticClass:"py-3.5 pl-3 pr-4 text-right text-sm font-semibold text-gray-900 sm:pr-0",attrs:{scope:"col"}},[t._v("Amount\n            ")]),t._v(" "),e("th",{staticClass:"relative py-3.5 pl-3 pr-4 sm:pr-6",attrs:{scope:"col"}},[e("span",{staticClass:"sr-only"},[t._v("Select")])])])])}],!1,null,null,null);e.default=component.exports}}]);