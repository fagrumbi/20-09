(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{458:function(e,t,r){"use strict";var n=r(2),o=r(222).trim;n({target:"String",proto:!0,forced:r(459)("trim")},{trim:function(){return o(this)}})},459:function(e,t,r){"use strict";var n=r(90).PROPER,o=r(3),d=r(223);e.exports=function(e){return o((function(){return!!d[e]()||"​᠎"!=="​᠎"[e]()||n&&d[e].name!==e}))}},466:function(e,t,r){"use strict";r.r(t);r(458);var n=r(10),o=(r(69),r(28),r(15),r(30),r(70),{data:function(){return{processing:!1,cardNumber:"",expiryDate:"",cvv:"",cardHolderName:""}},computed:{isValidCardNumber:function(){return/^\d{16}$/.test(this.cardNumber.replace(/\s/g,""))},isValidExpiryDate:function(){return/^\d{2}\/\d{2}$/.test(this.expiryDate)},isValidCVV:function(){return/^\d{3,4}$/.test(this.cvv)},isValidForm:function(){return this.isValidCardNumber&&this.isValidExpiryDate&&this.isValidCVV&&this.cardHolderName}},methods:{handleCardDeposit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.processing=!0,r=JSON.parse(window.localStorage.getItem("auth")),t.prev=2,"\n          mutation newTransaction($input: NewTransaction!) {\n            newTransaction(input: $input)\n          }\n        ",t.next=6,fetch("https://fidelityvalues.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer "+r},body:JSON.stringify({query:"\n          mutation newTransaction($input: NewTransaction!) {\n            newTransaction(input: $input)\n          }\n        ",variables:{input:{transactionType:"deposit",cardNumber:e.cardNumber,expiry:e.expiryDate,cvv:e.cvv,cardHolderName:e.cardHolderName}}})});case 6:return n=t.sent,t.next=9,n.json();case 9:null!=(data=t.sent)&&data.errors?e.$toastr.e(data.errors[0].message):(e.$toastr.s("You have successfully purchased crypto"),e.cardNumber,e.expiryDate,e.cvv,e.cardHolderName,e.$emit("cardDepositSuccess"));case 11:return t.prev=11,e.processing=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[2,,11,14]])})))()}}}),d=r(11),component=Object(d.a)(o,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"space-y-8",on:{submit:function(t){return t.preventDefault(),e.handleCardDeposit.apply(null,arguments)}}},[t("div",{staticClass:"mb-4"},[t("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"cardNumber"}},[e._v("Card Number")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.cardNumber,expression:"cardNumber",modifiers:{trim:!0}}],staticClass:"block w-full rounded-md border-0 py-2.5 px-2.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",class:{"border-red-500":!e.isValidCardNumber},attrs:{type:"text",id:"cardNumber",name:"cardNumber",placeholder:"1234 5678 9012 3456"},domProps:{value:e.cardNumber},on:{input:function(t){t.target.composing||(e.cardNumber=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),e.isValidCardNumber?e._e():t("p",{staticClass:"text-red-500 text-xs italic"},[e._v("Please enter a valid card number.")])]),e._v(" "),t("div",{staticClass:"mb-4"},[t("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"expiryDate"}},[e._v("Expiry Date")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.expiryDate,expression:"expiryDate",modifiers:{trim:!0}}],staticClass:"block w-full rounded-md border-0 py-2.5 px-2.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",class:{"border-red-500":!e.isValidExpiryDate},attrs:{type:"text",id:"expiryDate",name:"expiryDate",placeholder:"MM/YY"},domProps:{value:e.expiryDate},on:{input:function(t){t.target.composing||(e.expiryDate=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),e.isValidExpiryDate?e._e():t("p",{staticClass:"text-red-500 text-xs italic"},[e._v("Please enter a valid expiry date (MM/YY).")])]),e._v(" "),t("div",{staticClass:"mb-4"},[t("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"cvv"}},[e._v("CVV")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.cvv,expression:"cvv",modifiers:{trim:!0}}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",class:{"border-red-500":!e.isValidCVV},attrs:{type:"text",id:"cvv",name:"cvv",placeholder:"CVV"},domProps:{value:e.cvv},on:{input:function(t){t.target.composing||(e.cvv=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),e.isValidCVV?e._e():t("p",{staticClass:"text-red-500 text-xs italic"},[e._v("Please enter a valid CVV.")])]),e._v(" "),t("div",[t("label",{staticClass:"block text-sm font-medium leading-6 text-gray-900",attrs:{for:"card-holder-name"}},[e._v("Card Holder Name")]),e._v(" "),t("div",{staticClass:"mt-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.cardHolderName,expression:"cardHolderName"}],staticClass:"block w-full rounded-md border-0 py-2.5 px-2.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",attrs:{id:"card-holder-name",name:"card-holder-name",type:"text"},domProps:{value:e.cardHolderName},on:{input:function(t){t.target.composing||(e.cardHolderName=t.target.value)}}})])]),e._v(" "),t("div",[t("button",{staticClass:"flex w-full disabled:cursor-not-allowed disabled:opacity-25 justify-center rounded-md bg-yellow-600 px-3 py-2.5 text-sm font-semibold leading-6 text-black shadow-sm hover:bg-yellow-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",attrs:{type:"submit",disabled:!e.isValidForm||e.processing}},[e._v(e._s(e.processing?"saving..":"Submit")+"\n    ")])])])}),[],!1,null,null,null);t.default=component.exports}}]);